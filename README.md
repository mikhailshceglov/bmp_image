# Курсовая работа: Обработка BMP изображений

## Описание проекта
Данный проект реализует программу для обработки BMP-изображений в соответствии с заданием варианта 5.7. Программа предоставляет набор функций для манипуляции изображениями:
- **Рисование правильного шестиугольника.** Возможность задать координаты центра, радиус, толщину линий, цвет и (опционально) заливку.
- **Копирование заданной области.** Копирование области с указанием координат источника и места вставки.
- **Замена цвета.** Возможность заменить один цвет на другой по заданным параметрам.
- **Рисование орнамента.** Построение рамки-узора с выбором паттерна (прямоугольник, круг, полукруги) и настройкой толщины и цвета.
- **Дополнительные операции (defence).** Бинаризация изображения, сжатие, диагональное зеркальное отражение, размытие, добавление внешнего орнамента и сдвиг изображения.

Программа реализована с использованием командной строки (CLI) и функции `getopt`, что позволяет удобно передавать все необходимые параметры.

## Структура проекта
- **main.c** – Точка входа; разбор аргументов командной строки и вызов соответствующих функций.
- **bmp.h / bmp.c** – Функции для работы с BMP-файлами (чтение, запись, вывод информации).
- **drawing.h / drawing.c** – Функции для рисования геометрических фигур (шестиугольник, круг, линии, орнамент).
- **operations.h / operations.c** – Функции для копирования областей и замены цветов.
- **options.h / options.c** – Обработка опций командной строки, связанных с цветами.
- **utils.h / utils.c** – Вспомогательные функции (например, сравнение цветов, проверка диапазона значений).
- **defence.h / defence.c** – Дополнительные функции обработки изображения (бинаризация, сжатие, зеркальное отражение, размытие, сдвиг и внешние орнаменты).
- **cw_metoda.pdf** – Методическое пособие к курсовой работе.

## Требования
- **Компилятор:** GCC (программа компилируется без ошибок на GCC 7.5.0 и выше).
- **Система сборки:** Make (используйте прилагаемый Makefile).
- **Исходное изображение:** Для демонстрации работы используется файл `deer.bmp`.

## Сборка и установка
1. Склонируйте репозиторий или скопируйте все файлы проекта в одну директорию.
2. Откройте терминал и перейдите в директорию проекта.
3. Выполните команду сборки:
   ```bash
   make
   ```
   В результате будет создан исполняемый файл (например, `coursework`).

## Использование
Программа поддерживает множество режимов обработки изображений, выбираемых с помощью командной строки. Ниже приведены основные режимы и примеры использования.

### Рисование шестиугольника
```bash
./coursework --input deer.bmp --output out.bmp --hexagon --center 150.150 --radius 50 --thickness 3 --color 255.0.0 --fill --fill_color 200.200.200
```

### Копирование области изображения
```bash
./coursework --input deer.bmp --output out.bmp --copy --left_up 50.50 --right_down 150.150 --dest_left_up 200.200
```

### Замена цвета
```bash
./coursework --input deer.bmp --output out.bmp --color_replace --old_color 255.255.255 --new_color 0.0.0
```

### Рисование орнамента
```bash
./coursework --input deer.bmp --output out.bmp --ornament --pattern rectangle --thickness 2 --color 0.0.255 --count 5
```

### Дополнительные функции (defence)

**Бинаризация изображения:**
```bash
./coursework --input deer.bmp --output out.bmp --binarization --threshold 300
```

**Сжатие изображения:**
```bash
./coursework --input deer.bmp --output out.bmp --compress --num 2
```

**Диагональное зеркальное отражение:**
```bash
./coursework --input deer.bmp --output out.bmp --diag_mirror --left_up 50.50 --right_down 150.150
```

**Размытие изображения:**
```bash
./coursework --input deer.bmp --output out.bmp --blur --size 5
```

**Внешний орнамент:**
```bash
./coursework --input deer.bmp --output out.bmp --outside_ornament --thickness 10 --color 255.255.0
```

**Сдвиг изображения:**
```bash
./coursework --input deer.bmp --output out.bmp --shift --step 20 --axis x
```
